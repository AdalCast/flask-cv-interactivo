{% extends 'base.html' %}

{% block title %}Crear una cuenta{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="light-card">
        <div class="light-icon-wrapper">
            <i class="bi bi-person-fill"></i>
        </div>
        <h2 class="light-title">Crear una cuenta</h2>
        <p class="light-subtitle">Ingresa tus datos para registrarte</p>

        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                <div class="alert alert-{{ 'danger' if category == 'error' else category }} mt-3" role="alert">
                    {{ message }}
                </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <form action="{{ url_for('registro') }}" method="POST" class="light-form">
            
            <div class="form-group">
                <label for="full_name">Nombre completo</label>
                <input id="full_name" type="text" name="full_name" required>
            </div>

            <div class="form-group">
                <label for="email">Correo</label>
                <input id="email" type="email" name="email" required>
            </div>
            
            <div class="form-group">
                <label for="phone">Número de celular</label>
                <div style="display: flex; gap: 8px;">
                    <select name="country_code" required style="flex: 0 0 120px; padding: 8px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px;">
                        <option value="521">MX (+52)</option>
                        <option value="1">US (+1)</option>
                        <option value="1">CA (+1)</option>
                        <option value="54">AR (+54)</option>
                        <option value="56">CL (+56)</option>
                        <option value="57">CO (+57)</option>
                        <option value="506">CR (+506)</option>
                        <option value="593">EC (+593)</option>
                        <option value="503">SV (+503)</option>
                        <option value="502">GT (+502)</option>
                        <option value="504">HN (+504)</option>
                        <option value="505">NI (+505)</option>
                        <option value="507">PA (+507)</option>
                        <option value="595">PY (+595)</option>
                        <option value="51">PE (+51)</option>
                        <option value="1">PR (+1)</option>
                        <option value="1">DO (+1)</option>
                        <option value="598">UY (+598)</option>
                        <option value="58">VE (+58)</option>
                        <option value="34">ES (+34)</option>
                    </select>
                    <input id="phone" type="tel" name="phone" required pattern="[0-9]{10}" maxlength="10" style="flex: 1;">
                </div>
            </div>
            
             <div class="form-group">
                <label for="password">Contraseña</label>
                <input id="password" type="password" name="password" required>
            </div>
            
            <button type="submit" class="light-button">
                Crear cuenta
            </button>
        </form>

        <div class="light-footer">
            <p>¿Ya tienes una cuenta? <a href="{{ url_for('login') }}">Inicia sesión</a></p>
        </div>
    </div>
</div>
{% endblock %}